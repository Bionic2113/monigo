<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Dashboard</title>
    <link rel="stylesheet" href="/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.debug.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="/script.js" defer></script>
</head>

<body>
    <header>
        <h1>Performance Dashboard</h1>
        <div id="header-controls">
            <div id="unit-selection">
                <h2>Select Unit:</h2>
                <div class="switch-container">
                    <label class="switch">
                        <input type="radio" name="unit" value="bytes">
                        <span class="slider">Bytes</span>
                    </label>
                    <label class="switch">
                        <input type="radio" name="unit" value="KB">
                        <span class="slider">KB</span>
                    </label>
                    <label class="switch">
                        <input type="radio" name="unit" value="MB">
                        <span class="slider">MB</span>
                    </label>
                </div>
            </div>
            <!-- <button id="refresh-btn" title="Refresh Metrics">
                <img src="/refresh-icon.png" alt="Refresh Icon">
            </button> -->

            <button id="refresh-btn" title="Refresh Metrics"><i class="fa fa-refresh"></i></button>
            <p id="countdown">Refreshing in: 60s</p>
        </div>

    </header>

    <main>
        <div class="metrics-container">
            <div id="metrics" class="box">
                <h2>Service Info</h2>
                <p id="servicename">Service Name: </p>
                <p id="servicestarttime">Service Start Time: </p>
            </div>

            <div id="service-metrics" class="box">
                <h2>Runtime Service Metrics</h2>
                <div class="metric-item">
                    <p id="gcount">Goroutines:</p>
                    <span class="info-icon"
                        data-tooltip="The number of goroutines currently running in the application.">i</span>
                </div>
                <div class="metric-item">
                    <p id="rcount">Requests:</p>
                    <span class="info-icon" data-tooltip="The total number of requests handled by the service.">i</span>
                </div>
                <div class="metric-item">
                    <p id="tdur">Total Duration:</p>
                    <span class="info-icon" data-tooltip="The total time spent handling requests.">i</span>
                </div>
            </div>

            <div id="memory-usage" class="box">
                <h2>Runtime Memory Usage</h2>
                <div class="metric-item">
                    <p id="alloc">Alloc:</p>
                    <span class="info-icon" data-tooltip="Memory currently allocated by the application.">i</span>
                </div>
                <div class="metric-item">
                    <p id="totalalloc">TotalAlloc:</p>
                    <span class="info-icon"
                        data-tooltip="Total memory allocated by the application since it started.">i</span>
                </div>
                <div class="metric-item">
                    <p id="sys">Sys:</p>
                    <span class="info-icon" data-tooltip="Total memory obtained from the OS.">i</span>
                </div>
                <div class="metric-item">
                    <p id="heapalloc">HeapAlloc:</p>
                    <span class="info-icon" data-tooltip="Memory allocated to the heap.">i</span>
                </div>
                <div class="metric-item">
                    <p id="heapsys">HeapSys:</p>
                    <span class="info-icon" data-tooltip="Total memory obtained from the OS for the heap.">i</span>
                </div>
            </div>

            <div id="function-metrics" class="lg-box">
                <h2>Runtime Function Metrics</h2>
                <div id="functions-container">
                    <!-- Function metrics will be dynamically inserted here -->
                </div>
            </div>
            
        <div id="view-canvas-section" class="lg-box">
            <h2>View Canvas</h2>
            <!-- Download PDF Button -->
            <div id="canvas-controls">
                <i class="fa fa-download"></i>
                <button id="download-pdf-btn">Download as PDF</button>
            </div>
            <!-- Profile Canvas Container -->
            <div id="profile-canvas-container">
                <iframe id="profile-canvas" style="width: 100%; height: 400px; border: none;"></iframe>
            </div>
        </div>


            



        </div>
    </main>
</body>

</html>